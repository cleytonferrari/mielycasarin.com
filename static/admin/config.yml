backend:
  name: git-gateway
  branch: main # Branch to update (optional; defaults to master)
media_folder: static/img
public_folder: /img
collections:
  - name: pages
    label: 'Páginas'
    files:
      - name: about
        label: 'Sobre'
        file: content/sobre.md
        fields:
          - {label: 'Título', name: title, widget: string}
          - {label: 'Layout', name: layout, widget: string, default: sobre}
          - {label: 'Texto', name: herotext, widget: string, default: 'Registrando momentos inesquecíveis'}
          - label: "Imagem"
            name: "heroimage"
            widget: "image"
            choose_url: true
            default: "/img/autor.webp"
            media_library:
              config:
                multiple: true
          - { label: 'Conteúdo', name: body, widget: markdown}

      - name: privacidade
        label: 'Privacidade'
        file: content/privacidade.md
        fields:
          - {label: 'Título', name: title, widget: string}
          - { label: 'Conteúdo', name: body, widget: markdown}


  - name: 'blog'
    label: 'Blog'
    folder: 'content/blog'
    create: true
    path: '{{year}}/{{slug}}' #Beta https://www.netlifycms.org/docs/beta-features/#folder-collections-path
    media_folder: 'static/img' #Beta https://www.netlifycms.org/docs/beta-features/#folder-collections-media-and-public-folder
    public_folder: '/img' #Beta https://www.netlifycms.org/docs/beta-features/#folder-collections-media-and-public-folder
    #slug: '{{year}}-{{month}}-{{day}}-{{slug}}'
    editor:
      preview: true
    fields:
      - { label: 'Título', name: 'title', widget: 'string' }
      - { label: 'Data', name: 'date', widget: 'datetime', date_format: "DD.MM.YYYY",  time_format: "HH:mm"}
      - { label: 'Resumo', name: 'description', widget: 'string' }

      - name: categories
        label: 'Categorias'
        widget: select
        default: ['Acompanhamento']
        multiple: true
        min: 1
        max: 2
        options:
          - { label: 'Newborn', value: "Newborn" }
          - { label: 'Acompanhamento', value: "Acompanhamento" }
          - { label: 'Aniversário', value: "Aniversário" }

      - name: images
        label: 'Imagens'
        widget: list
        summary: '{{fields.image}}'
        field: {label: Image, name: image, widget: image}

      - { label: 'Conteúdo', name: body, widget: markdown}